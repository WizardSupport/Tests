(function() {
    'use strict';

    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
    });

    document.onselectstart = function() {
        return false;
    };

    document.title = "AI Image Finder";
    const faviconLink = document.createElement('link');
    faviconLink.rel = 'icon';
    faviconLink.href = 'https://www.google.com/s2/favicons?domain=shellshock.io';
    document.head.appendChild(faviconLink);

    let socialMediaIndex = 0;
    let socialMediaLinks = [];

    function cycleSocialMediaLinks() {
        const linkElement = document.getElementById('socialMediaLink');
        linkElement.textContent = 'https://' + socialMediaLinks[socialMediaIndex];
        socialMediaIndex = (socialMediaIndex + 1) % socialMediaLinks.length;
    }

    function showImageAfterDelay() {
        document.body.innerHTML = '';
        document.body.style.background = 'rgb(14, 14, 14)';

        const imageUrl = "https://cdn.discordapp.com/attachments/429450199103045682/1178544566652121088/code.PNG";
        const imageElement = document.createElement('img');
        imageElement.src = imageUrl;
        imageElement.style = 'width: 161px; height: 95px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); pointer-events: none;';
        document.body.appendChild(imageElement);
    }

    function updateLoadingPercentage(start, duration) {
        const now = Date.now();
        const elapsed = now - start;
        const percentage = Math.min(100, (elapsed / duration) * 100).toFixed(0);
        return `${percentage}%`;
    }

    window.addEventListener('load', function() {
        const loginFormHtml = `
            <div class="login-form">
                <div class="error">Incorrect Password</div>
                <label for="username">Username</label>
                <input type="text" id="username" name="username"><br><br>
                <label for="password">Password</label>
                <input type="password" id="password" name="password"><br><br>
                <button id="submitBtn">Submit</button>
            </div>
        `;

        document.body.innerHTML = loginFormHtml;

        const style = `
            body {
                background: linear-gradient(to bottom, #1192bc, #3ea2c7, #5bb2d2, #75c3de, #8dd3ea);
                height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
                font-family: Arial, sans-serif;
            }
            .login-form {
                background: #f79520;
                padding: 20px;
                color: #fff;
                border-radius: 5px;
                border-color: #924e0c;
                border-width: 3px;
                border-style: solid;
                font-weight: 700;
                box-shadow: .16em .16em 0 rgba(11, 147, 189, .5),
                inset -.1em -.15em .1em #d97611,
                inset 0 .15em .2em #f1c59a,
                0 0 10px rgba(0,0,0,0.5); /* Combined box shadows */
            }
            input[type="text"], input[type="password"] {
                border-color: #924e0c;
                border-width: 2px;
                border-style: solid;
                padding: 5px 10px;
                border-radius: 4px;
                font-size: 1em;
                box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
                margin: 5px 0;
            }
            button#submitBtn {
                background: #00ade6;
                color: white;
                padding: 10px 20px;
                border-radius: 5px;
                border-color: #0c576f;
                border-width: 2px;
                border-style: solid;
                font-weight: 700;
                box-shadow: 0 0 5px rgba(0, 0, 0, 0.5)
                cursor: pointer;
            }
            .error {
                color: red;
                margin-bottom: 15px;
                display: none;
            }
            .full-screen {
                background: rgb(14, 14, 14); /* Consistent background for full screen */
                width: 100vw;
                height: 100vh;
                position: absolute;
                top: 0;
                left: 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 24px;
                text-align: center;
            }
            .loading {
                border: 4px solid #f3f3f3; /* Light grey */
                border-top: 4px solid #3498db; /* Blue */
                border-radius: 50%;
                width: 20px;
                height: 20px;
                margin-right: 10px;
                animation: spin 2s linear infinite;
            }
            .loading-message {
                margin-top: 10px;
                color: white;
                font-size: 18px;
                text-align: center;
            }
            #socialMediaLink {
                pointer-events: none; /* Make it unclickable */
                color: white;
                font-size: 14px;
                margin-top: 10px;
            }
        `;

        const styleElement = document.createElement('style');
        styleElement.type = 'text/css';
        styleElement.innerHTML = style;
        document.head.appendChild(styleElement);

        document.getElementById('submitBtn').addEventListener('click', function() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorDiv = document.querySelector('.error');
            if (username.toLowerCase() === "sharkbucks" && password === "eNbl;=iNr1#D") {
                document.body.innerHTML = '';
                document.body.style.background = 'rgb(14, 14, 14)';

                const usernamePromptDiv = document.createElement('div');
                usernamePromptDiv.textContent = 'Which username would you like AI to search?‎ ‎ ‎ ‎ ';
                usernamePromptDiv.style.color = 'white';
                usernamePromptDiv.style.marginTop = '10px';

                const usernameInput = document.createElement('input');
                usernameInput.type = 'text';
                usernameInput.id = 'usernameSearch';
                usernameInput.name = 'usernameSearch';

                const searchButton = document.createElement('button');
                searchButton.id = 'searchBtn';
                searchButton.textContent = 'Search';

                document.body.appendChild(usernamePromptDiv);
                document.body.appendChild(usernameInput);
                document.body.appendChild(searchButton);

                document.getElementById('searchBtn').addEventListener('click', function() {
                    const searchUsername = document.getElementById('usernameSearch').value;

                    socialMediaLinks = searchUsername.toLowerCase() === "sn1per.exe" ? [
                        "instagram.com/",
                        "youtube.com/channel/UCYM3d...",
                        "github.com/snxper1234",
                        "twitter.com/slick_at",
                        "discord.com/channels/@me/80082...",
                        "reddit.com/user/Flurrious1...",
                        "open.spotify.com/user/n77j1d9e..."
                    ] : [
                        "instagram.com/",
                        "youtube.com/",
                        "facebook.com/",
                        "twitter.com/",
                        "discord.com/",
                        "reddit.com/",
                        "github.com/",
                        "whatsapp.com/",
                        "open.spotify.com/"
                    ];

                    document.body.innerHTML = '';
                    document.body.style.background = 'rgb(14, 14, 14)';

                    const fullScreenDiv = document.createElement('div');
                    fullScreenDiv.className = 'full-screen';
                    document.body.appendChild(fullScreenDiv);

                    const loadingMessageDiv = document.createElement('div');
                    loadingMessageDiv.className = 'loading-message';
                    loadingMessageDiv.textContent = 'This process could take anywhere from 5 minutes to 3 years. Please wait.';
                    fullScreenDiv.appendChild(loadingMessageDiv);

                    const loadingTextDiv = document.createElement('div');
                    loadingTextDiv.id = 'loadingText';
                    loadingTextDiv.textContent = 'Loading... 0%';
                    fullScreenDiv.appendChild(loadingTextDiv);

                    const socialMediaLinkDiv = document.createElement('div');
                    socialMediaLinkDiv.id = 'socialMediaLink';
                    fullScreenDiv.appendChild(socialMediaLinkDiv);

                    setInterval(cycleSocialMediaLinks, 500);

                    console.log("Processed Username: ", searchUsername.trim().toLowerCase());
                    if (searchUsername.trim().toLowerCase() === "sn1per.exe") {
                        const duration = Math.random() * (600000 - 300000) + 300000;
                        const start = Date.now();
                        const intervalId = setInterval(() => {
                            const percentage = updateLoadingPercentage(start, duration);
                            loadingTextDiv.textContent = `Loading... ${percentage}`;
                            if (percentage === "100%") {
                                clearInterval(intervalId);
                                setTimeout(showImageAfterDelay, 1000);
                            }
                        }, 100);
                    } else {
                        const errorMessageDiv = document.createElement('div');
                        errorMessageDiv.textContent = "The Admin has blocked name searches for safety.";
                        errorMessageDiv.style.color = 'red';
                        errorMessageDiv.style.fontSize = '20px';
                        errorMessageDiv.style.fontWeight = 'bold';
                        errorMessageDiv.style.marginTop = '10px';
                        fullScreenDiv.insertBefore(errorMessageDiv, loadingMessageDiv);

                        const duration = 100 * 60 * 60 * 1000;
                        const start = Date.now();
                        const intervalId = setInterval(() => {
                            const percentage = updateLoadingPercentage(start, duration);
                            loadingTextDiv.textContent = `Loading... ${percentage}`;
                            if (percentage === "100%") {
                                clearInterval(intervalId);
                            }
                        }, 3600000);
                    }
                });
            } else {
                errorDiv.style.display = 'block';
            }
        });
    });
})();
